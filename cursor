DELIMITER //
CREATE PROCEDURE disp(OUT namelist varchar(4000),OUT addlist varchar(10000))
BEGIN
	DECLARE NAME VARCHAR(25);
	DECLARE ADDR VARCHAR(255);
	DECLARE finished1 INTEGER DEFAULT 0;
	DECLARE finished2 INTEGER DEFAULT 0;
	DECLARE cur_name CURSOR FOR 
				SELECT fname from User ;
	
	DECLARE cur_add CURSOR FOR 
				SELECT neighbourhood from User ;
	DECLARE CONTINUE HANDLER FOR NOT FOUND SET finished1= 1;
	open cur_name;
	open cur_add;
	
	
	getUser:Loop
		FETCH cur_name INTO NAME ;
		FETCH cur_Add INTO ADDR;
		IF finished1 =1
		THEN
			LEAVE getUser;
		END IF;
		SET namelist = CONCAT(NAME,";",namelist);
		SET addlist=CONCAT(ADDR,";",addlist);
		END LOOP getUser;
	close cur_name;
	close cur_add;		
END//
DELIMITER ;
